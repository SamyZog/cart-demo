(this["webpackJsonpcart-demo"]=this["webpackJsonpcart-demo"]||[]).push([[0],[,,,,,function(e,t,n){"use strict";var c=n(3),r=n(9),a=n(1),i=n(2),s=["children","as"];function j(e,t){var n=e.children,a=e.as,j=Object(r.a)(e,s),o=a||"div";return Object(i.jsx)(o,Object(c.a)(Object(c.a)({ref:t},j),{},{children:n}))}t.a=Object(a.memo)(Object(a.forwardRef)(j))},,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"setCartItems",(function(){return o})),n.d(t,"addItem",(function(){return l})),n.d(t,"clearCart",(function(){return u})),n.d(t,"setQuantity",(function(){return d})),n.d(t,"delteItem",(function(){return b})),n.d(t,"cartReducer",(function(){return f}));var c=n(18),r="cart/set_cart_items",a="cart/set_quantity",i="cart/delete_item",s="cart/clear_cart",j="cart/add_item",o=function(e){return{type:r,payload:e}},l=function(e){return{type:j,payload:e}},u=function(e){return{type:s,payload:e}},d=function(e){return{type:a,payload:e}},b=function(e){return{type:i,payload:e}},O={items:{},totalQty:0},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r:return Object(c.a)(e,(function(e){e.items=t.payload}));case a:return Object(c.a)(e,(function(e){e.items[t.payload.id].qty+=t.payload.one}));case i:return Object(c.a)(e,(function(e){e.items[t.payload].qty=0}));case j:return Object(c.a)(e,(function(e){e.items[t.payload.id]=t.payload}));case s:return O;default:return e}}},function(e,t,n){"use strict";var c=n(3),r=n(9),a=n(1),i=n(5),s=n(2),j=["children","as","style"];function o(e,t){var n=e.children,a=e.as,o=e.style,l=Object(r.a)(e,j);return Object(s.jsx)(i.a,Object(c.a)(Object(c.a)({style:Object(c.a)({display:"flex",justifyContent:"center",alignItems:"center"},o),ref:t,as:a},l),{},{children:n}))}t.a=Object(a.memo)(Object(a.forwardRef)(o))},function(e,t,n){"use strict";var c=n(3),r=n(9),a=n(1),i=n(5),s=n(2),j=["children","as","style","justify","align","space"];function o(e,t){var n=e.children,a=e.as,o=e.style,l=e.justify,u=e.align,d=e.space,b=Object(r.a)(e,j);return Object(s.jsx)(i.a,Object(c.a)(Object(c.a)({ref:t,as:a,style:Object(c.a)({display:"flex",justifyContent:l||"space-between",alignItems:u||"center",gap:d||"var(--space-lg)"},o)},b),{},{children:n}))}t.a=Object(a.memo)(Object(a.forwardRef)(o))},,,function(e,t,n){e.exports={Cartlist:"Cartlist_Cartlist__1nHwb",item:"Cartlist_item__kOVlR",name:"Cartlist_name__1g-T6",actions:"Cartlist_actions__BvdNC",price:"Cartlist_price__2Xs3S"}},,,,function(e,t,n){e.exports={Cartpage:"Cartpage_Cartpage__k4EGJ",header:"Cartpage_header__3r7ti",content:"Cartpage_content__2sm9e",listcontainer:"Cartpage_listcontainer__NrXEz"}},,,,function(e,t,n){e.exports={Cartform:"Cartform_Cartform__1cMfO","fade-in":"Cartform_fade-in__1WmUW",formcontainer:"Cartform_formcontainer__18jAf","slide-in":"Cartform_slide-in__1nto5",form:"Cartform_form__3TWcJ"}},,,,function(e,t,n){e.exports={Header:"Header_Header__3x6Dv",content:"Header_content__1wNwT"}},function(e,t,n){e.exports={Button:"Button_Button__KsF0R"}},,,function(e,t,n){e.exports={Summary:"Summary_Summary__fEqPz"}},,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var c=n(33),r=n(34),a=n(14),i=n(11),s=n(12),j=n(27),o=n.n(j),l=n(2);t.default=function(e){return Object(l.jsx)(i.a,{as:"header",className:o.a.Header,children:Object(l.jsxs)(s.a,{className:o.a.content,children:[Object(l.jsx)(a.Link,{to:"/",children:Object(l.jsx)(c.a,{})}),Object(l.jsx)(a.Link,{to:"/cart",children:Object(l.jsx)(r.a,{})})]})})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(20),i=n.n(a),s=n(7),j=n(14),o=n(11),l=n(2);function u(e){var t=e.children;return Object(l.jsx)(o.a,{as:"main",children:t})}var d=n(17),b=n(3),O=n(9),f=n(28),m=n.n(f),h=["children","as","leftIcon","rightIcon"];function x(e,t){var n=e.children,c=(e.as,e.leftIcon),r=e.rightIcon,a=Object(O.a)(e,h);return Object(l.jsxs)("button",Object(b.a)(Object(b.a)({ref:t,className:m.a.Button},a),{},{children:[c?Object(l.jsx)(c,{}):null,n,r?Object(l.jsx)(r,{}):null]}))}var p=Object(c.memo)(Object(c.forwardRef)(x)),y=n(5),v=n(12),_=["children"];var g=function(e){var t=e.children,n=Object(O.a)(e,_);return Object(l.jsx)(y.a,Object(b.a)(Object(b.a)({as:"section",style:{height:"90vh",width:"100%",maxWidth:"var(--desktop)",padding:"var(--space-lg)",alignItems:"stretch"}},n),{},{children:t}))},C=n(10),I=function(e){return Object.values(e)},N=n(22),w=n(29);var R=function(e){return Object(l.jsx)("hr",{style:{border:"none",borderTop:"2px solid var(--common)",width:"100%"}})},S=["children","as","space","align","justify","style"];function k(e,t){var n=e.children,c=e.as,r=e.space,a=e.align,i=e.justify,s=e.style,j=Object(O.a)(e,S);return Object(l.jsx)(y.a,Object(b.a)(Object(b.a)({ref:t,as:c,style:Object(b.a)({display:"flex",alignItems:a||"center",justifyContent:i||"center",flexDirection:"column",gap:r||"var(--space-lg)"},s)},j),{},{children:n}))}var q=Object(c.memo)(Object(c.forwardRef)(k)),T=n(23),E=n.n(T);var A=function(e){var t=e.setMounted,n=Object(c.useRef)(),r=Object(s.b)(),a=Object(c.useState)({name:"",price:"",qty:""}),i=Object(d.a)(a,2),j=i[0],u=j.name,O=j.price,f=j.qty,m=i[1],h=Object(c.useState)({validName:!1,validPrice:!1,validQty:!1}),x=Object(d.a)(h,2),y=x[0],v=y.validName,_=y.validPrice,g=y.validQty,I=x[1];function S(e,t){var n,c=e.target.value;switch(t){case"name":n=/^\S+/g.test(c)&&c.length>0&&"string"===typeof c,I((function(e){return Object(b.a)(Object(b.a)({},e),{},{validName:n})}));break;case"price":n=/\d/.test(c)&&c>=0,I((function(e){return Object(b.a)(Object(b.a)({},e),{},{validPrice:n})}));break;case"qty":n=/^\d+$/g.test(c)&&c>0,I((function(e){return Object(b.a)(Object(b.a)({},e),{},{validQty:n})}))}m((function(n){return Object(b.a)(Object(b.a)({},n),{},Object(N.a)({},t,e.target.value))}))}return Object(s.c)((function(e){return e.cart})).items,Object(l.jsx)(o.a,{className:E.a.Cartform,ref:n,children:Object(l.jsxs)(q,{className:E.a.formcontainer,children:[Object(l.jsx)(p,{onClick:function(){n.current.animate({opacity:0},{duration:200}).finished.then((function(){return t(!1)}))},children:Object(l.jsx)(w.a,{})}),Object(l.jsx)("h1",{children:"ADD ITEM TO CART"}),Object(l.jsx)(R,{}),Object(l.jsxs)("p",{children:["All fields are required ",Object(l.jsx)("span",{children:"*"})]}),Object(l.jsxs)(q,{className:E.a.form,as:"form",onSubmit:function(e){if(e.preventDefault(),v&&_&&g){var n={id:Date.now().toString(),name:u,price:+O,qty:+f};r(Object(C.addItem)(n)),t(!1)}else alert("Invalid input!")},children:[Object(l.jsx)("input",{style:{"--common":v?"#46b5d1":"#da0037"},autoFocus:!0,type:"text",placeholder:"Item name (min. 1 char)",onChange:function(e){return S(e,"name")},value:u}),Object(l.jsx)("input",{style:{"--common":_?"#46b5d1":"#da0037"},type:"text",placeholder:"Item price (number >= 0)",onChange:function(e){return S(e,"price")},value:O}),Object(l.jsx)("input",{style:{"--common":g?"#46b5d1":"#da0037"},type:"text",placeholder:"Item quantity (whole number > 0)",onChange:function(e){return S(e,"qty")},value:f}),Object(l.jsx)(R,{}),Object(l.jsx)(p,{children:"ADD ITEM +"})]})]})})},D=n(30),H=n(15),M=n.n(H);var Q=function(e){var t=Object(s.c)((function(e){return e.cart})).items,n=Object(s.b)();return Object(l.jsx)(q,{as:"ul",className:M.a.Cartlist,justify:"flex-start",children:I(t).sort((function(e,t){return t.id-e.id})).map((function(e){var t=e.id,c=e.name,r=e.qty,a=e.price;return r>0?Object(l.jsxs)(q,{className:M.a.item,as:"li",align:"flex-start",children:[Object(l.jsxs)(v.a,{style:{width:"100%"},children:[Object(l.jsx)(y.a,{className:M.a.name,children:c.length>10?"".concat(c.splice(0,10),"..."):c}),Object(l.jsxs)(v.a,{children:[Object(l.jsxs)(v.a,{className:M.a.actions,children:[Object(l.jsx)(p,{onClick:function(){return function(e){n(Object(C.setQuantity)({id:e,one:1}))}(t)},children:"+"}),Object(l.jsx)(y.a,{children:r}),Object(l.jsx)(p,{onClick:function(){return function(e){n(Object(C.setQuantity)({id:e,one:-1}))}(t)},children:"-"})]}),Object(l.jsxs)(y.a,{className:M.a.price,children:[a*r,"$"]})]})]}),Object(l.jsx)(R,{}),Object(l.jsx)(y.a,{children:Object(l.jsx)(p,{style:{backgroundColor:"var(--danger)"},onClick:function(){return function(e){n(Object(C.delteItem)(e))}(t)},children:Object(l.jsx)(D.a,{})})})]},t):null}))})},B=n(19),L=n.n(B),J=n(31),P=n.n(J);var F=function(e){var t=Object(s.c)((function(e){return e.cart})).items,n=Object(s.b)(),c=I(t).reduce((function(e,t){return e+t.qty}),0),r=I(t).reduce((function(e,t){return e+t.qty*t.price}),0);return Object(l.jsxs)(q,{className:P.a.Summary,children:[Object(l.jsxs)(y.a,{children:["Items: ",c]}),Object(l.jsxs)(y.a,{children:["Sum: ",r,"$"]}),Object(l.jsx)(p,{children:"CHECKOUT"}),Object(l.jsx)(p,{onClick:function(){n(Object(C.clearCart)())},style:{backgroundColor:"var(--danger)"},children:"CLEAR CART"})]})};function W(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.cart})).items,n=Object(c.useState)(!1),r=Object(d.a)(n,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){var t=new XMLHttpRequest;t.open("GET","cart.json"),t.addEventListener("load",(function(){var t=JSON.parse(this.response);e(Object(C.setCartItems)(t))})),t.addEventListener("error",(function(){alert("Something went wrong fetching your cart items!")})),t.send()}),[]),Object(l.jsxs)(g,{children:[Object(l.jsxs)(y.a,{className:L.a.Cartpage,children:[Object(l.jsxs)(v.a,{className:L.a.header,children:[Object(l.jsx)("h1",{children:"CART"}),Object(l.jsx)(p,{onClick:function(){i(!a)},children:"ADD TO CART"})]}),I(t).reduce((function(e,t){return e+t.qty}),0)?Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)(y.a,{className:L.a.content,align:"flex-start",justify:"normal",children:[Object(l.jsx)(y.a,{className:L.a.listcontainer,children:Object(l.jsx)(Q,{})}),Object(l.jsx)(y.a,{children:Object(l.jsx)(F,{})})]})}):Object(l.jsx)(o.a,{style:{height:"40vh"},children:Object(l.jsx)("h2",{children:"CART IS EMPTY"})})]}),a&&Object(l.jsx)(A,{setMounted:i})]})}var X=n(14),$=X.Route,z=X.Switch,G=n(45).default;var K=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(G,{}),Object(l.jsx)(u,{children:Object(l.jsx)(z,{children:Object(l.jsx)($,{path:"/cart",children:Object(l.jsx)(W,{})})})})]})},U=n(48),V=U.combineReducers,Y=(0,U.createStore)(V({cart:n(10).cartReducer}));n(46);i.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(s.a,{store:Y,children:Object(l.jsx)(j.HashRouter,{children:Object(l.jsx)(K,{})})})}),document.getElementById("root"))}],[[47,1,2]]]);
//# sourceMappingURL=main.330c4f6a.chunk.js.map