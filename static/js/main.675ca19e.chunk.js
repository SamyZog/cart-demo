(this["webpackJsonpoptimax-test"]=this["webpackJsonpoptimax-test"]||[]).push([[0],[,,,,,function(e,t,n){"use strict";var c=n(3),a=n(9),r=n(1),i=n(2),s=["children","as"];function o(e,t){var n=e.children,r=e.as,o=Object(a.a)(e,s),j=r||"div";return Object(i.jsx)(j,Object(c.a)(Object(c.a)({ref:t},o),{},{children:n}))}t.a=Object(r.memo)(Object(r.forwardRef)(o))},,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"setCartItems",(function(){return j})),n.d(t,"addItem",(function(){return l})),n.d(t,"clearCart",(function(){return u})),n.d(t,"setQuantity",(function(){return d})),n.d(t,"delteItem",(function(){return b})),n.d(t,"cartReducer",(function(){return f}));var c=n(18),a="cart/set_cart_items",r="cart/set_quantity",i="cart/delete_item",s="cart/clear_cart",o="cart/add_item",j=function(e){return{type:a,payload:e}},l=function(e){return{type:o,payload:e}},u=function(e){return{type:s,payload:e}},d=function(e){return{type:r,payload:e}},b=function(e){return{type:i,payload:e}},O={items:{},totalQty:0},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case a:return Object(c.a)(e,(function(e){e.items=t.payload}));case r:return Object(c.a)(e,(function(e){e.items[t.payload.id].qty+=t.payload.one}));case i:return Object(c.a)(e,(function(e){e.items[t.payload].qty=0}));case o:return Object(c.a)(e,(function(e){e.items[t.payload.id]=t.payload}));case s:return O;default:return e}}},function(e,t,n){"use strict";var c=n(3),a=n(9),r=n(1),i=n(5),s=n(2),o=["children","as","style"];function j(e,t){var n=e.children,r=e.as,j=e.style,l=Object(a.a)(e,o);return Object(s.jsx)(i.a,Object(c.a)(Object(c.a)({style:Object(c.a)({display:"flex",justifyContent:"center",alignItems:"center"},j),ref:t,as:r},l),{},{children:n}))}t.a=Object(r.memo)(Object(r.forwardRef)(j))},function(e,t,n){"use strict";var c=n(3),a=n(9),r=n(1),i=n(5),s=n(2),o=["children","as","style","justify","align","space"];function j(e,t){var n=e.children,r=e.as,j=e.style,l=e.justify,u=e.align,d=e.space,b=Object(a.a)(e,o);return Object(s.jsx)(i.a,Object(c.a)(Object(c.a)({ref:t,as:r,style:Object(c.a)({display:"flex",justifyContent:l||"space-between",alignItems:u||"center",gap:d||"var(--space-lg)"},j)},b),{},{children:n}))}t.a=Object(r.memo)(Object(r.forwardRef)(j))},,,function(e,t,n){e.exports={Cartlist:"Cartlist_Cartlist__J_LqN",item:"Cartlist_item__10irW",name:"Cartlist_name__2hGLq",actions:"Cartlist_actions__1uOO_",price:"Cartlist_price__2VFoi"}},,,,function(e,t,n){e.exports={Cartpage:"Cartpage_Cartpage__uevhp",header:"Cartpage_header__2O9Aj",content:"Cartpage_content__2mDf0",listcontainer:"Cartpage_listcontainer__gvyHP"}},,,,function(e,t,n){e.exports={Cartform:"Cartform_Cartform__JyC1a","fade-in":"Cartform_fade-in__1d6ud",formcontainer:"Cartform_formcontainer__3aHZ6","slide-in":"Cartform_slide-in__3Pz6f",form:"Cartform_form__25LdI"}},,,,function(e,t,n){e.exports={Header:"Header_Header__EQPtV",content:"Header_content__2o25S"}},function(e,t,n){e.exports={Button:"Button_Button__2KCqY"}},,,function(e,t,n){e.exports={Summary:"Summary_Summary__1IbB9"}},,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t);var c=n(33),a=n(34),r=n(14),i=n(11),s=n(12),o=n(27),j=n.n(o),l=n(2);t.default=function(e){return Object(l.jsx)(i.a,{as:"header",className:j.a.Header,children:Object(l.jsxs)(s.a,{className:j.a.content,children:[Object(l.jsx)(r.Link,{to:"/",children:Object(l.jsx)(c.a,{})}),Object(l.jsx)(r.Link,{to:"/cart",children:Object(l.jsx)(a.a,{})})]})})}},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),r=n(20),i=n.n(r),s=n(7),o=n(14),j=n(5),l=n(11),u=n(2);function d(e){var t=e.children;return Object(u.jsx)(l.a,{as:"main",children:t})}var b=n(17),O=n(3),f=n(9),h=n(28),m=n.n(h),x=["children","as","leftIcon","rightIcon"];function p(e,t){var n=e.children,c=(e.as,e.leftIcon),a=e.rightIcon,r=Object(f.a)(e,x);return Object(u.jsxs)("button",Object(O.a)(Object(O.a)({ref:t,className:m.a.Button},r),{},{children:[c?Object(u.jsx)(c,{}):null,n,a?Object(u.jsx)(a,{}):null]}))}var y=Object(c.memo)(Object(c.forwardRef)(p)),v=n(12),_=["children"];var g=function(e){var t=e.children,n=Object(f.a)(e,_);return Object(u.jsx)(j.a,Object(O.a)(Object(O.a)({as:"section",style:{height:"90vh",width:"100%",maxWidth:"var(--desktop)",padding:"var(--space-lg)",alignItems:"stretch"}},n),{},{children:t}))},C=n(10),I=function(e){return Object.values(e)},k=n(22),N=n(29);var w=function(e){return Object(u.jsx)("hr",{style:{border:"none",borderTop:"2px solid var(--common)",width:"100%"}})},S=["children","as","space","align","justify","style"];function R(e,t){var n=e.children,c=e.as,a=e.space,r=e.align,i=e.justify,s=e.style,o=Object(f.a)(e,S);return Object(u.jsx)(j.a,Object(O.a)(Object(O.a)({ref:t,as:c,style:Object(O.a)({display:"flex",alignItems:r||"center",justifyContent:i||"center",flexDirection:"column",gap:a||"var(--space-lg)"},s)},o),{},{children:n}))}var q=Object(c.memo)(Object(c.forwardRef)(R)),E=n(23),T=n.n(E);var A=function(e){var t=e.setMounted,n=Object(c.useRef)(),a=Object(s.b)(),r=Object(c.useState)({name:"",price:"",qty:""}),i=Object(b.a)(r,2),o=i[0],j=o.name,d=o.price,f=o.qty,h=i[1],m=Object(c.useState)({validName:!1,validPrice:!1,validQty:!1}),x=Object(b.a)(m,2),p=x[0],v=p.validName,_=p.validPrice,g=p.validQty,I=x[1];function S(e,t){var n,c=e.target.value;switch(t){case"name":n=/^\S+/g.test(c)&&c.length>0&&"string"===typeof c,I((function(e){return Object(O.a)(Object(O.a)({},e),{},{validName:n})}));break;case"price":n=/\d/.test(c)&&c>=0,I((function(e){return Object(O.a)(Object(O.a)({},e),{},{validPrice:n})}));break;case"qty":n=/^\d+$/g.test(c)&&c>0,I((function(e){return Object(O.a)(Object(O.a)({},e),{},{validQty:n})}))}h((function(n){return Object(O.a)(Object(O.a)({},n),{},Object(k.a)({},t,e.target.value))}))}return Object(s.c)((function(e){return e.cart})).items,Object(u.jsx)(l.a,{className:T.a.Cartform,ref:n,children:Object(u.jsxs)(q,{className:T.a.formcontainer,children:[Object(u.jsx)(y,{onClick:function(){n.current.animate({opacity:0},{duration:200}).finished.then((function(){return t(!1)}))},children:Object(u.jsx)(N.a,{})}),Object(u.jsx)("h1",{children:"ADD ITEM TO CART"}),Object(u.jsx)(w,{}),Object(u.jsxs)("p",{children:["All fields are required ",Object(u.jsx)("span",{children:"*"})]}),Object(u.jsxs)(q,{className:T.a.form,as:"form",onSubmit:function(e){if(e.preventDefault(),v&&_&&g){var n={id:Date.now().toString(),name:j,price:+d,qty:+f};a(Object(C.addItem)(n)),t(!1)}else alert("Invalid input!")},children:[Object(u.jsx)("input",{style:{"--common":v?"#46b5d1":"#da0037"},autoFocus:!0,type:"text",placeholder:"Item name (min. 1 char)",onChange:function(e){return S(e,"name")},value:j}),Object(u.jsx)("input",{style:{"--common":_?"#46b5d1":"#da0037"},type:"text",placeholder:"Item price (number >= 0)",onChange:function(e){return S(e,"price")},value:d}),Object(u.jsx)("input",{style:{"--common":g?"#46b5d1":"#da0037"},type:"text",placeholder:"Item quantity (whole number > 0)",onChange:function(e){return S(e,"qty")},value:f}),Object(u.jsx)(w,{}),Object(u.jsx)(y,{children:"ADD ITEM +"})]})]})})},D=n(30),H=n(15),L=n.n(H);var M=function(e){var t=Object(s.c)((function(e){return e.cart})).items,n=Object(s.b)();return Object(u.jsx)(q,{as:"ul",className:L.a.Cartlist,justify:"flex-start",children:I(t).sort((function(e,t){return t.id-e.id})).map((function(e){var t=e.id,c=e.name,a=e.qty,r=e.price;return a>0?Object(u.jsxs)(q,{className:L.a.item,as:"li",align:"flex-start",children:[Object(u.jsxs)(v.a,{style:{width:"100%"},children:[Object(u.jsx)(j.a,{className:L.a.name,children:c.length>10?"".concat(c.splice(0,10),"..."):c}),Object(u.jsxs)(v.a,{children:[Object(u.jsxs)(v.a,{className:L.a.actions,children:[Object(u.jsx)(y,{onClick:function(){return function(e){n(Object(C.setQuantity)({id:e,one:1}))}(t)},children:"+"}),Object(u.jsx)(j.a,{children:a}),Object(u.jsx)(y,{onClick:function(){return function(e){n(Object(C.setQuantity)({id:e,one:-1}))}(t)},children:"-"})]}),Object(u.jsxs)(j.a,{className:L.a.price,children:[r*a,"$"]})]})]}),Object(u.jsx)(w,{}),Object(u.jsx)(j.a,{children:Object(u.jsx)(y,{style:{backgroundColor:"var(--danger)"},onClick:function(){return function(e){n(Object(C.delteItem)(e))}(t)},children:Object(u.jsx)(D.a,{})})})]},t):null}))})},Q=n(19),B=n.n(Q),P=n(31),J=n.n(P);var F=function(e){var t=Object(s.c)((function(e){return e.cart})).items,n=Object(s.b)(),c=I(t).reduce((function(e,t){return e+t.qty}),0),a=I(t).reduce((function(e,t){return e+t.qty*t.price}),0);return Object(u.jsxs)(q,{className:J.a.Summary,children:[Object(u.jsxs)(j.a,{children:["Items: ",c]}),Object(u.jsxs)(j.a,{children:["Sum: ",a,"$"]}),Object(u.jsx)(y,{children:"CHECKOUT"}),Object(u.jsx)(y,{onClick:function(){n(Object(C.clearCart)())},style:{backgroundColor:"var(--danger)"},children:"CLEAR CART"})]})};function $(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.cart})).items,n=Object(c.useState)(!1),a=Object(b.a)(n,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){var t=new XMLHttpRequest;t.open("GET","cart.json"),t.addEventListener("load",(function(){var t=JSON.parse(this.response);e(Object(C.setCartItems)(t))})),t.addEventListener("error",(function(){alert("Something went wrong fetching your cart items!")})),t.send()}),[]),Object(u.jsxs)(g,{children:[Object(u.jsxs)(j.a,{className:B.a.Cartpage,children:[Object(u.jsxs)(v.a,{className:B.a.header,children:[Object(u.jsx)("h1",{children:"CART"}),Object(u.jsx)(y,{onClick:function(){i(!r)},children:"ADD TO CART"})]}),I(t).reduce((function(e,t){return e+t.qty}),0)?Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)(j.a,{className:B.a.content,align:"flex-start",justify:"normal",children:[Object(u.jsx)(j.a,{className:B.a.listcontainer,children:Object(u.jsx)(M,{})}),Object(u.jsx)(j.a,{children:Object(u.jsx)(F,{})})]})}):Object(u.jsx)(l.a,{style:{height:"40vh"},children:Object(u.jsx)("h2",{children:"CART IS EMPTY"})})]}),r&&Object(u.jsx)(A,{setMounted:i})]})}var z=n(14),G=z.Route,K=z.Switch,V=n(45).default;var W=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(V,{}),Object(u.jsxs)(d,{children:[Object(u.jsx)(K,{children:Object(u.jsx)(G,{exact:!0,path:"/",children:Object(u.jsx)(l.a,{style:{height:"90vh",width:"50%"},children:Object(u.jsxs)(j.a,{style:{fontSize:"2em"},children:["Hello \ud83d\udc4b! Before taking a look at my implementation of the cart, please take some time and look at the"," ",Object(u.jsx)("a",{rel:"noreferrer",target:"_blank",style:{textDecoration:"underline"},href:"https://github.com/SamyZog/optimax-test#readme",children:"README"})," ","section of this repo to have a better outlook."]})})})}),Object(u.jsx)(K,{children:Object(u.jsx)(G,{path:"/cart",children:Object(u.jsx)($,{})})})]})]})},Y=n(48),Z=Y.combineReducers,U=(0,Y.createStore)(Z({cart:n(10).cartReducer}));n(46);i.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(s.a,{store:U,children:Object(u.jsx)(o.HashRouter,{children:Object(u.jsx)(W,{})})})}),document.getElementById("root"))}],[[47,1,2]]]);
//# sourceMappingURL=main.675ca19e.chunk.js.map